syntax = "proto3";

package s611.v1;

message OneOnf {
  oneof person {
    NaturalPerson natural = 1;
    LegalPerson company = 2;
  }

  // Fields inside message needs to have unique names even if they are inside a oneof
  // Solution: Rename the fields and extract them to a separate message
  oneof customer {
    NaturalPerson b2c = 3;
    LegalPerson b2b = 4;
  }
}

message NaturalPerson {
  string given_name = 1;
  string family_name = 2;
}

message LegalPerson {
  string name = 1;
}
